System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var o,n,e,t,u,r,c,a,l,s;return{setters:[function(i){o=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,t=i.assertThisInitialized,u=i.createClass},function(i){r=i.cclegacy,c=i._decorator,a=i.AudioClip,l=i.AudioSource,s=i.Component}],execute:function(){var d,h,S,p,y,f,g,_,b,w,m,v;r._RF.push({},"c3599gbLT1Li4uDvbaUbNnZ","AudioManager",void 0);var A=c.ccclass,L=c.property;i("AudioManager",(d=A("AudioManager"),h=L(a),S=L(a),p=L(a),y=L(a),d(((v=function(i){function o(){for(var o,n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return o=i.call.apply(i,[this].concat(u))||this,e(o,"clickSound",_,t(o)),e(o,"switchSoundLight",b,t(o)),e(o,"switchSoundHeavy",w,t(o)),e(o,"completeSound",m,t(o)),o._audioSource=null,o}n(o,i);var r=o.prototype;return r.onLoad=function(){o._instance=this,this._audioSource=this.node.getComponent(l),this._audioSource||console.error("AudioSource component is required on AudioManager node")},r.stopAllSounds=function(){this._audioSource&&this._audioSource.stop()},r.playClickSound=function(){this._audioSource&&this.clickSound&&this._audioSource.playOneShot(this.clickSound)},r.playSwitchSoundLight=function(){this._audioSource&&this.switchSoundLight&&this._audioSource.playOneShot(this.switchSoundLight)},r.playSwitchSoundHeavy=function(){this._audioSource&&this.switchSoundHeavy&&this._audioSource.playOneShot(this.switchSoundHeavy)},r.playCompleteSound=function(){this._audioSource&&this.completeSound&&this._audioSource.playOneShot(this.completeSound)},u(o,null,[{key:"instance",get:function(){return this._instance||console.error("AudioManager instance is not initialized!"),this._instance}}]),o}(s))._instance=null,_=o((g=v).prototype,"clickSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=o(g.prototype,"switchSoundLight",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=o(g.prototype,"switchSoundHeavy",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=o(g.prototype,"completeSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/BtnEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./AudioManager.ts"],(function(e){var t,n,o,i,r,c,a,v;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.Button,r=e.director,c=e.Component},function(e){a=e.EventManager},function(e){v=e.AudioManager}],execute:function(){var s;n._RF.push({},"48516NxbUhLJJzJmb/FobxK","BtnEvent",void 0);var u=o.ccclass;o.property,e("BtnEvent",u("BtnEvent")(s=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).eventMgr=void 0,t}t(n,e);var o=n.prototype;return o.start=function(){this.eventMgr=a.instance;var e=this.getComponent(i);e&&e.node.on(i.EventType.CLICK,this.onClick,this)},o.onClick=function(){v.instance.playClickSound()},o.changeSceneCheckMem=function(e,t){this.eventMgr.eventTarget.emit(this.eventMgr.GameEventType.EventTypeNoMemYet,t)},o.changeScene=function(e,t){r.loadScene(t,(function(){}))},o.copyCode=function(e,t){this.eventMgr.eventTarget.emit(this.eventMgr.GameEventType.EventTypeCopyDone,t)},o.selectAnswer=function(e,t){"y"!=t&&"n"!=t||this.eventMgr.eventTarget.emit(this.eventMgr.GameEventType.EventTypeSelectDone,t)},o.loginCommit=function(e,t){this.eventMgr.eventTarget.emit(this.eventMgr.GameEventType.EventTypeLoginCommit,t)},n}(c))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/DialogPopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,l,e,i,o,a,c,r,u;return{setters:[function(n){t=n.applyDecoratedDescriptor,l=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,c=n.Label,r=n.Button,u=n.Component}],execute:function(){var s,p,b,h,f,C,k,g,d;o._RF.push({},"4e481EifD5DkqncNXTbeYFn","DialogPopUp",void 0);var v=a.ccclass,y=a.property;n("DialogPopUp",(s=v("DialogPopUp"),p=y(c),b=y(r),h=y(r),s((k=t((C=function(n){function t(){for(var t,l=arguments.length,o=new Array(l),a=0;a<l;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o))||this,e(t,"labelTips",k,i(t)),e(t,"buttonOk",g,i(t)),e(t,"buttonCancel",d,i(t)),t.okCallback=null,t.cancelCallback=null,t}l(t,n);var o=t.prototype;return o.onEnable=function(){var n,t;null==(n=this.buttonOk)||n.node.on(r.EventType.CLICK,this.onClickOk,this),null==(t=this.buttonCancel)||t.node.on(r.EventType.CLICK,this.onClickCancel,this)},o.onDisable=function(){var n,t;null==(n=this.buttonOk)||n.node.off(r.EventType.CLICK),null==(t=this.buttonCancel)||t.node.off(r.EventType.CLICK)},o.start=function(){},o.update=function(n){},o.popDialog=function(n,t,l){this.labelTips&&(this.labelTips.string=n),this.okCallback=t||null,this.cancelCallback=l||null,this.node.active=!0,this.node.setSiblingIndex(this.node.parent.children.length-1)},o.onClickOk=function(){this.okCallback&&this.okCallback(),this.closeDialog()},o.onClickCancel=function(){this.cancelCallback&&this.cancelCallback(),this.closeDialog()},o.closeDialog=function(){this.node.active=!1},t}(u)).prototype,"labelTips",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(C.prototype,"buttonOk",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(C.prototype,"buttonCancel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=C))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,o,a,r,i,c;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){o=e.cclegacy,a=e._decorator,r=e.director,i=e.EventTarget,c=e.Component}],execute:function(){var s,l;o._RF.push({},"99152lBn05Dp5jzTIEC9SMV","EventManager",void 0);var v=a.ccclass;e("EventManager",v("EventManager")(((l=function(e){function o(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(n=e.call.apply(e,[this].concat(o))||this).eventTarget=void 0,n.GameEventType={EventTypeSetData:"SetData",EventTypeSelectDone:"SelectDone",EventTypeNoMemYet:"NoMemYet",EventTypeCopyDone:"CopyDone",EventTypeDecomposeCode:"DecomposeCode",EventTypeTouchHoldDone:"TouchHoldDone",EventTypeLoginCommit:"LoginCommit"},n}n(o,e);var a=o.prototype;return a.onLoad=function(){r.addPersistRootNode(this.node),o._instance=this,this.eventTarget=new i},a.start=function(){},t(o,null,[{key:"instance",get:function(){return this._instance||console.error("EventManager instance is not initialized!"),this._instance}}]),o}(c))._instance=null,s=l))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./EventManager.ts","./index.js"],(function(e){var t,s,r,a,i,n,o,u,c,l,h,m,p,d,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy,u=e._decorator,c=e.director,l=e.Vec2,h=e.resources,m=e.SpriteFrame,p=e.Component},null,function(e){d=e.EventManager},function(e){x=e.default}],execute:function(){var f,y,v;o._RF.push({},"7bfc5yKCxhPt7quGENqauis","GameData",void 0);var g=u.ccclass,E=u.property,P="WhiteCatIntp",R=e("KeyMemTimes","MemTimes"),S=e("KeyExamTimes","ExamTimes"),T=(e("KeyExamResults","ExamResult"),e("KeyExamResultHighest","ExamResultHighest")),b=e("KeyPlayerId","PlayerId"),N=e("KeyExamResultLast","ExamResultLast"),I=e("KeySeed","Seed"),M=e("PicNumMax",9),k=e("RelativedPicNum",4),D=function(){function e(e){this.seed=void 0,this.seed=e}var t=e.prototype;return t.next=function(){return this.seed=(1664525*this.seed+1013904223)%4294967295,(this.seed>>>0)/4294967295},t.random=function(){return this.next()},t.randomInt=function(e,t){return Math.floor(this.random()*(t-e+1))+e},t.isPerfectSquare=function(e){if(e<0)return{isSquare:!1};var t=Math.sqrt(e);return Number.isInteger(t)?{isSquare:!0,n:t}:{isSquare:!1}},e}();e("GameData",g("GameData")((v=t((y=function(t){function o(){for(var e,s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).MemTimes=void 0,e.ExamTimes=void 0,e.ExamResultLast=void 0,e.ExamResults=void 0,e.PlayerId=void 0,e.arrSfGroup=[],e.arrSpPosIndex=[],e.arrSpPositions=[{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:1,y:0},{x:1,y:1},{x:1,y:2},{x:2,y:0},{x:2,y:1},{x:2,y:2}],e.eventTarget=void 0,e.GameEventType=null,e.randomSeed=null,e.mt=null,e.questionsNum=0,r(e,"RelativedPicNum",v,a(e)),e.picNumMax=void 0,e}s(o,t);var u=o.prototype;return u.onLoad=function(){c.addPersistRootNode(this.node),this.eventTarget=d.instance.eventTarget,this.GameEventType=d.instance.GameEventType,this.randomSeed=Math.floor(1e6*Math.random()),this.mt=new D(this.randomSeed);var t=3;t=this.mt.randomInt(0,99)>=90?4:t,this.picNumMax=t*t;var s=3==t?this.mt.randomInt(0,1)*this.picNumMax:0;M=e("PicNumMax",this.picNumMax||M),k=e("RelativedPicNum",this.RelativedPicNum||k),this.resourcesPreLoad(t-3,s)},u.start=function(){this.MemTimes=0,this.ExamTimes=0,this.PlayerId=localStorage.getItem(b),this.ExamResults=[],this.PlayerId&&this.getPlayerExamResult(this.PlayerId),this.MemTimes=isNaN(this.MemTimes)?0:this.MemTimes,this.ExamTimes=isNaN(this.ExamTimes)?0:this.ExamTimes;var e=this.mt.isPerfectSquare(M);if(e.isSquare){this.arrSpPositions=[];for(var t=0;t<M;t++){var s=t%e.n,r=Math.floor(t/e.n);this.arrSpPositions.push({x:r,y:s})}}for(var a=0;a<M;a++)this.arrSpPosIndex.push(a);this.shuffleArray(this.arrSpPosIndex)},u.getPicPosByPosIdx=function(e){return this.arrSpPositions[e]},u.genExamPicsByMainPicIdx=function(e){for(var t=[],s=this.mt.randomInt(2,M),r=0;r<s;r++)r!=e&&t.push(r);return this.questionsNum+=t.length,this.shuffleArray(t),t},u.checkNextTo__=function(e,t){var s=!1;return 1==Math.abs(e.x-t.x)+Math.abs(e.y-t.y)&&(s=!0),s},u.checkNextTo=function(e,t){var s=this.getPicPosByPosIdx(this.arrSpPosIndex[e]),r=this.getPicPosByPosIdx(this.arrSpPosIndex[t]);return this.checkNextTo__(s,r)},u.getNextDirectionsArr=function(e,t){for(var s=[],r=0;r<t.length;r++){var a=t[r];s.push(this._getNextDirection(e,a))}return s},u._getNextDirection=function(e,t){var s=this.getPicPosByPosIdx(this.arrSpPosIndex[e]),r=this.getPicPosByPosIdx(this.arrSpPosIndex[t]);return this.__getNextDirection(s,r)},u.__getNextDirection=function(e,t){var s=new l(0,0),r=Math.sign(t.x-e.x),a=Math.sign(t.y-e.y);return s.x=r,s.y=a,s},u.getNextToPics=function(e){for(var t=[],s=0;s<this.arrSpPosIndex.length;s++)e!=s&&this.checkNextTo(e,s)&&t.push(s);return t},u.getSpriteFrameByIdx=function(e){return this.arrSfGroup[e]},u.setExamResultLast=function(e,t,s){var r=this.makeResultKey(e,t);Array.isArray(this.ExamResults)||(this.ExamResults=[]);var a,i=this.ExamResults.findIndex((function(e){return Object.keys(e)[0]===r}));-1!==i?this.ExamResults[i][r]=s:this.ExamResults.push(((a={})[r]=s,a))},u.getPlayerExamResult=function(){var e=i(n().mark((function e(t){var s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchPlayerData(t);case 2:(s=e.sent)?(this.ExamResults=JSON.parse(s),this.ExamResultLast=this.getExamResultLast(),this.eventTarget.emit(this.GameEventType.EventTypeSetData)):console.error("无法获取玩家 "+t+" 的测试结果");case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),u.fetchPlayerData=function(){var e=i(n().mark((function e(t){var s,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://47.112.177.45/api/getData.php",e.prev=1,e.next=4,fetch("http://47.112.177.45/api/getData.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:t})});case 4:if((s=e.sent).ok){e.next=8;break}return console.error("HTTP error:",s.statusText),e.abrupt("return",null);case 8:return e.next=10,s.json();case 10:if(!(r=e.sent).success){e.next=16;break}return e.abrupt("return",r.examResult);case 16:return console.warn("玩家数据获取失败:",r.message),e.abrupt("return",null);case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(1),console.error("请求失败:",e.t0),e.abrupt("return",null);case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}(),u.uploadExamResult=function(e){var t=this.PlayerId;if(e){var s={playerId:t,examResult:e};fetch("http://47.112.177.45/api/saveData.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){e.success||console.error("Failed to save data:",e.message)})).catch((function(e){console.error("Error:",e)}))}else console.error("No ExamResult found in localStorage")},u.saveResult=function(){var e=JSON.stringify(this.ExamResults);this.uploadExamResult(e)},u.getExamResultLast=function(){if(!this.ExamResults||0===this.ExamResults.length)return null;var e=this.ExamResults[this.ExamResults.length-1];return e[Object.keys(e)[0]]||null},u.getExamResultHighest=function(){if(!this.ExamResults||0===this.ExamResults.length)return null;var e=null;return this.ExamResults.forEach((function(t){var s=t[Object.keys(t)[0]];(null===e||s>e)&&(e=s)})),e},u.makeResultKey=function(e,t,s,r,a){return void 0===s&&(s=M),void 0===r&&(r=this.questionsNum),void 0===a&&(a=this.randomSeed),"M"+e+"_E"+t+"_P"+s+"_Q"+r+"_S"+a},u.decomposeExamResult=function(e){for(var t,s=Object.keys(e)[0],r=e[s],a=/([a-zA-Z]+)(\d+)/g,i={};null!==(t=a.exec(s));){var n=t[1],o=parseInt(t[2]);i[n]=o}return Object.keys(i).length>0?(i.v=r,i):null},u.getData=function(e){var t=0;switch(e){case R:t=this.MemTimes;break;case S:t=this.ExamTimes;break;case N:t=this.ExamResultLast;break;case T:t=this.getExamResultHighest();break;case I:t=this.randomSeed;break;case b:t=this.PlayerId;break;default:t=0}return t},u.setData=function(e,t){switch(e){case R:this.MemTimes=t;break;case S:this.ExamTimes=t;break;case N:this.ExamResultLast=t,this.setExamResultLast(this.MemTimes,this.ExamTimes,this.ExamResultLast),this.questionsNum=0;break;case I:this.randomSeed=t}this.eventTarget.emit(this.GameEventType.EventTypeSetData)},u.resetData=function(){this.MemTimes=0,this.ExamTimes=0,this.eventTarget.emit(this.GameEventType.EventTypeSetData)},u.saveData=function(){this.saveResult()},u.saveDataByKey=function(e,t){localStorage.setItem(e,t)},u.resourcesPreLoad=function(e,t){for(var s=t;s<t+this.picNumMax;s++){var r="/imageGroup"+e+"/pic-"+("00"+s).slice(-2)+"/spriteFrame";this.loadSpriteFrames(r)}},u.loadSpriteFrames=function(e){var t=this;h.load(e,m,(function(e,s){e?cc.log(e):(t.arrSfGroup.push(s),s.addRef())}))},u.shuffleArray=function(e){for(var t=e.length-1;t>0;t--){var s=this.mt.randomInt(0,t),r=[e[s],e[t]];e[t]=r[0],e[s]=r[1]}},u.setSeedManual=function(e){this.resetData(),this.randomSeed=e,this.mt=new D(this.randomSeed),this.eventTarget.emit(this.GameEventType.EventTypeSetData)},u.copyResultToClipBoard1=function(){if(this.ExamResults&&0!==this.ExamResults.length){var e=this.ExamResults.map((function(e){var t=Object.keys(e)[0];return t+": "+e[t]})).join("\n"),t=x.AES.encrypt(e,P).toString();navigator.clipboard.writeText(t).then((function(){})).catch((function(e){console.error("Failed to copy encrypted exam results to clipboard",e)}))}else console.error("No exam results to copy.")},u.copyResultToClipBoard=function(){if(this.ExamResults&&0!==this.ExamResults.length){var e=this.ExamResults.map((function(e){var t=Object.keys(e)[0];return t+": "+e[t]})).join("\n"),t=x.AES.encrypt(e,P).toString();if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(t).then((function(){console.log("Encrypted exam results copied to clipboard.")})).catch((function(e){console.error("Failed to copy encrypted exam results to clipboard",e)}));else{var s=document.createElement("textarea");s.value=t,s.style.position="absolute",s.style.left="-9999px",document.body.appendChild(s),s.select();try{document.execCommand("copy"),console.log("Encrypted exam results copied to clipboard (fallback).")}catch(e){console.error("Fallback copy failed.",e)}finally{document.body.removeChild(s)}}}else console.error("No exam results to copy.")},u.deCopyCode=function(e){try{var t=x.AES.decrypt(e,P).toString(x.enc.Utf8);return t||(console.error("Decryption failed or the input string is invalid."),null)}catch(e){return console.error("Error during decryption:",e),null}},u.printSfGroupWithPositions=function(){for(var e=[],t=Math.sqrt(this.arrSpPositions.length),s=0;s<t;s++)e.push(new Array(t).fill(0));for(var r=0;r<this.arrSpPosIndex.length;r++){var a=this.arrSpPositions[this.arrSpPosIndex[r]];e[a.x][a.y]=r}for(var i=0,n=e;i<n.length;i++){var o=n[i];cc.log(o.join(" "))}},o}(p)).prototype,"RelativedPicNum",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),f=y))||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/GraphicsDrawer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t,n,r,i,c,s,a;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,n=o._decorator,r=o.Graphics,i=o.Color,c=o.UITransform,s=o.Vec3,a=o.Component}],execute:function(){var p;t._RF.push({},"96fc0WKgnlC4oLBF1diSpDS","GraphicsDrawer",void 0);var h=n.ccclass;n.property,o("GraphicsDrawer",h("GraphicsDrawer")(p=function(o){function t(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))||this).graphics=null,e}e(t,o);var n=t.prototype;return n.onLoad=function(){this.graphics=this.node.getComponent(r)},n.start=function(){},n.update=function(o){},n.drawLine=function(o,e,t,n,r){void 0===r&&(r=i.GREEN);var a=o.getComponent(c).contentSize,p=e.getComponent(c).contentSize,h=new s(0,0,0),g=new s(0,0,0);t&&(h.x=t.x*a.width/2,h.y=t.y*a.height/2),n&&(g.x=n.x*p.width/2,g.y=n.y*p.height/2);var l=o.getComponent(c).convertToWorldSpaceAR(h),d=e.getComponent(c).convertToWorldSpaceAR(g),u=this.node.getComponent(c).convertToNodeSpaceAR(l),v=this.node.getComponent(c).convertToNodeSpaceAR(d);this.graphics.strokeColor=r,this.graphics.moveTo(u.x,u.y),this.graphics.lineTo(v.x,v.y),this.graphics.stroke()},n.drawCross=function(o,e,t,n,r){void 0===r&&(r=i.WHITE);var a=o.getComponent(c).convertToWorldSpaceAR(new s(0,-o.getComponent(c).contentSize.height/2,0)),p=e.getComponent(c).convertToWorldSpaceAR(new s(0,e.getComponent(c).contentSize.height/2,0)),h=new s((a.x+p.x)/2+n.x,(a.y+p.y)/2+n.y,0),g=this.node.getComponent(c).convertToNodeSpaceAR(h),l=t/2;this.graphics.strokeColor=r,this.graphics.moveTo(g.x-l,g.y+l),this.graphics.lineTo(g.x+l,g.y-l),this.graphics.stroke()},n.clearAll=function(){this.graphics&&this.graphics.clear()},t}(a))||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AudioManager.ts","./BtnEvent.ts","./DialogPopUp.ts","./EventManager.ts","./GameData.ts","./GraphicsDrawer.ts","./SceneScriptExam.ts","./SceneScriptLogin.ts","./SceneScriptMem.ts","./SceneScriptStart.ts","./TestInputPopUp.ts","./TextUpdate.ts","./TipsPopUp.ts","./TouchHoldEvent.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SceneScriptExam.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./GraphicsDrawer.ts","./AudioManager.ts"],(function(e){var t,i,n,a,o,s,r,l,c,h,u,d,p,b,m,w,v,g,D,f,S,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,r=e.Label,l=e.Button,c=e.Sprite,h=e.Graphics,u=e.find,d=e.Vec3,p=e.Color,b=e.tween,m=e.Quat,w=e.Component},function(e){v=e.GameData,g=e.PicNumMax,D=e.KeyExamTimes,f=e.KeyExamResultLast},function(e){S=e.GraphicsDrawer},function(e){y=e.AudioManager}],execute:function(){var T,P,x,C,I,k,M,A,E,N,O,z,L,Y,V,B,G,F,Q,_,J,R,H,K,j,q,U,W,X;o._RF.push({},"00c5aYkpyFMYJ6FmJCJErbr","SceneScriptExam",void 0);var Z=s.ccclass,$=s.property;e("SceneScriptExam",(T=Z("SceneScriptExam"),P=$(r),x=$(r),C=$(r),I=$(r),k=$(r),M=$(l),A=$(l),E=$(c),N=$(c),O=$(r),z=$(l),L=$(h),T((B=t((V=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"lblTips",B,a(t)),n(t,"lblTipsCD",G,a(t)),n(t,"lblCD",F,a(t)),n(t,"lblProgress",Q,a(t)),n(t,"lblQuestionMark",_,a(t)),n(t,"btnY",J,a(t)),n(t,"btnN",R,a(t)),n(t,"spMain",H,a(t)),n(t,"spOther",K,a(t)),n(t,"lblOverTips",j,a(t)),n(t,"btnBack",q,a(t)),n(t,"graphics",U,a(t)),n(t,"TipsCD",W,a(t)),n(t,"CD",X,a(t)),t.EventTypeSelect={SelectNone:"none",SelectY:"y",SelectN:"n"},t.gameData=void 0,t.countdownValue=0,t.countdownTimer=null,t.animationTween=null,t.mainPicIndex=0,t.otherPicIdxArr=null,t.otherPicArrIdx=0,t.score=0,t.drawer=void 0,t.shakeDuration=.3,t.shakeIntensity=5,t.curSelectMode=null,t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.lblTips.node.active=!1,this.lblCD.node.active=!1,this.lblProgress.node.active=!1,this.btnY.node.active=!1,this.btnN.node.active=!1,this.spMain.node.active=!1,this.spOther.node.active=!1,this.lblQuestionMark.node.active=!1,this.curSelectMode=this.EventTypeSelect.SelectNone,this.gameData=u("DataNode").getComponent(v),this.drawer=this.graphics.getComponent(S)},o.onEnable=function(){this.gameData.eventTarget.on(this.gameData.GameEventType.EventTypeSelectDone,this.showSelectDone,this)},o.onDisable=function(){this.gameData.eventTarget.off(this.gameData.GameEventType.EventTypeSelectDone,this.showSelectDone,this)},o.start=function(){var e=this;this.startCountdown(this.lblTipsCD,this.TipsCD,200,(function(){e.lblTipsCD.node.active=!1,e.examCounter()})),this.TipsCD=this.TipsCD,this.CD=this.CD},o.recordScore=function(e){var t=e==this.EventTypeSelect.SelectY?1:0;t=e==this.EventTypeSelect.SelectN?-1:t;var i=this.gameData.checkNextTo(this.mainPicIndex,this.otherPicIdxArr[this.otherPicArrIdx]);switch(t){case 1:this.score=i?this.score+1:this.score;break;case-1:this.score=i?this.score:this.score+1}},o.showSelectDone=function(e){this.drawer.clearAll(),this.lblQuestionMark.node.active=!1;var t=this.btnY.getComponentInChildren(r),i=this.btnN.getComponentInChildren(r);switch(t.enableOutline=!1,i.enableOutline=!1,this.curSelectMode=e,this.curSelectMode){case this.EventTypeSelect.SelectNone:this.lblQuestionMark.node.active=!0,this.drawer.drawLine(this.spMain.node,this.spOther.node,new d(0,0,0),new d(0,0,0),new p(105,105,105,180));break;case this.EventTypeSelect.SelectY:t.enableOutline=!0,this.drawer.drawLine(this.spMain.node,this.spOther.node,new d(0,0,0),new d(0,0,0),new p(0,185,0,200));break;case this.EventTypeSelect.SelectN:i.enableOutline=!0,this.drawer.drawLine(this.spMain.node,this.spOther.node,new d(0,0,0),new d(0,0,0),new p(105,105,105,180)),this.drawer.drawCross(this.spMain.node,this.spOther.node,30,new d(3,5,0),new p(200,0,0,200))}},o.examCounter=function(e){var t=this;if(void 0===e&&(e=0),0==e&&(this.lblTips.node.active=!0,this.btnY.node.active=!0,this.btnN.node.active=!0,this.lblProgress.node.active=!0,this.lblCD.node.active=!0,this.otherPicArrIdx=0,this.mainPicIndex=0,this.otherPicIdxArr=this.gameData.genExamPicsByMainPicIdx(this.mainPicIndex)),e>0&&this.mainPicIndex<g&&this.otherPicArrIdx<this.otherPicIdxArr.length&&(this.shakeNode(this.spOther),this.recordScore(this.curSelectMode),this.otherPicArrIdx++,y.instance.playSwitchSoundLight()),this.otherPicArrIdx>=this.otherPicIdxArr.length&&(this.rotateShake(this.spMain),this.shakeNode(this.spOther),this.mainPicIndex++,this.otherPicIdxArr=this.gameData.genExamPicsByMainPicIdx(this.mainPicIndex),this.otherPicArrIdx=0,y.instance.playSwitchSoundHeavy()),this.mainPicIndex>=g){this.lblProgress.node.active=!1,this.lblCD.node.active=!1,this.spMain.node.active=!1,this.spOther.node.active=!1,this.lblTips.node.active=!1,this.btnY.node.active=!1,this.btnN.node.active=!1,this.lblQuestionMark.node.active=!1,this.drawer.clearAll();var i=this.gameData.getData(D);return this.gameData.setData(D,i+1),this.gameData.setData(f,this.score),this.gameData.saveData(),this.lblOverTips.node.active=!0,this.btnBack.node.active=!0,y.instance.stopAllSounds(),void y.instance.playCompleteSound()}this.gameData.eventTarget.emit(this.gameData.GameEventType.EventTypeSelectDone,this.EventTypeSelect.SelectNone),this.showPics(this.spMain,this.mainPicIndex),this.showPics(this.spOther,this.otherPicIdxArr[this.otherPicArrIdx]),this.showSelectDone(this.EventTypeSelect.SelectNone),this.showProgress(this.mainPicIndex+1,g),this.startCountdown(this.lblCD,this.CD,200,(function(){t.examCounter(e+1)}))},o.shakeNode=function(e){if(e){var t=e.node,i=t.getPosition().clone();b(t).to(this.shakeDuration/2,{position:i.clone().add3f(this.shakeIntensity,0,0)}).to(this.shakeDuration/2,{position:i.clone().add3f(-this.shakeIntensity,0,0)}).to(this.shakeDuration/2,{position:i}).call((function(){t.setPosition(i)})).start()}},o.rotateShake=function(e){if(e){var t=e.node,i=t.rotation.clone();b(t).to(this.shakeDuration/4,{rotation:m.fromEuler(new m,0,0,-this.shakeIntensity)}).to(this.shakeDuration/4,{rotation:m.fromEuler(new m,0,0,this.shakeIntensity)}).to(this.shakeDuration/4,{rotation:i}).start()}},o.showProgress=function(e,t){this.lblProgress.string=e+"/"+t},o.showPics=function(e,t){this.drawer.clearAll(),e.node.active=!0;var i=this.gameData.getSpriteFrameByIdx(t);e.spriteFrame=i},o.startCountdown=function(e,t,i,n){var a=this;void 0===i&&(i=0),this.stopCountdown(),this.countdownValue=t;var o=e.node.active;e.node.active=!0,this.setLabel(e,this.countdownValue.toString()),setTimeout((function(){a.countdownTimer=setInterval((function(){if(a.countdownValue--,a.countdownValue<=0)return a.stopCountdown(),e.node.active=o,void(n&&n());a.setLabel(e,a.countdownValue.toString()),a.countdownValue<=3&&a.countdownValue>0&&a.startScaleAnimation(e)}),1e3)}),i)},o.stopCountdown=function(){this.countdownTimer&&(clearInterval(this.countdownTimer),this.countdownTimer=null),this.stopScaleAnimation()},o.setLabel=function(e,t){e.string=t},o.startScaleAnimation=function(e){this.stopScaleAnimation(),this.animationTween=b(e.node).to(.5,{scale:new d(1.5,1.5,1)}).to(.5,{scale:new d(1,1,1)}).union().repeatForever().start()},o.stopScaleAnimation=function(){this.animationTween&&(this.animationTween.stop(),this.animationTween=null)},t}(w)).prototype,"lblTips",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(V.prototype,"lblTipsCD",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(V.prototype,"lblCD",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(V.prototype,"lblProgress",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(V.prototype,"lblQuestionMark",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(V.prototype,"btnY",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(V.prototype,"btnN",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(V.prototype,"spMain",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(V.prototype,"spOther",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(V.prototype,"lblOverTips",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(V.prototype,"btnBack",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(V.prototype,"graphics",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(V.prototype,"TipsCD",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),X=t(V.prototype,"CD",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),Y=V))||Y));o._RF.pop()}}}));

System.register("chunks:///_virtual/SceneScriptLogin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./EventManager.ts"],(function(e){var t,r,n,i,s,o,a,c,u,l,p,h,f,g,b,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator,u=e.EditBox,l=e.Button,p=e.Label,h=e.find,f=e.director,g=e.Component},function(e){b=e.KeyPlayerId},function(e){v=e.EventManager}],execute:function(){var T,m,d,y,x,S,_,k,I,w,L;a._RF.push({},"adc30RWOD9MbZTJkcmoZOF2","SceneScriptLogin",void 0);var D=c.ccclass,M=c.property;e("SceneScriptLogin",(T=D("SceneScriptLogin"),m=M(u),d=M(l),y=M(p),x=M(p),T((k=t((_=function(e){function t(){for(var t,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this).pid=void 0,n(t,"ebx_ID",k,i(t)),n(t,"btn_Commit",I,i(t)),n(t,"lbl_TipsText",w,i(t)),n(t,"lbl_TipsLogo",L,i(t)),t.eventMgr=void 0,t}r(t,e);var a=t.prototype;return a.onLoad=function(){var e=h("GameMgrNode");this.eventMgr=e.getComponent(v)},a.start=function(){this.pid=localStorage.getItem(b),this.pid&&this.switchToStartScene(),this.lbl_TipsText.node.active=!1,this.lbl_TipsLogo.node.active=!1},a.onEnable=function(){var e=this;this.eventMgr.eventTarget.on(this.eventMgr.GameEventType.EventTypeLoginCommit,(function(t){e.onSubmit()}),this),this.eventMgr.eventTarget.on(this.eventMgr.GameEventType.EventTypeTouchHoldDone,(function(t){"msg_storeID"==t&&e.forceSubmit()}),this)},a.onDisable=function(){this.eventMgr.eventTarget.off(this.eventMgr.GameEventType.EventTypeTouchHoldDone)},a.forceSubmit=function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ebx_ID.string.trim(),e.next=3,this.onPlayerIdCheck(t);case 3:e.sent.success?(localStorage.setItem(b,t),this.switchToStartScene()):(this.lbl_TipsText.node.active=!0,this.lbl_TipsLogo.node.active=!0,this.lbl_TipsText.string="这不是你的ID");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onSubmit=function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.ebx_ID.string.trim(),this.checkLegal(t)){e.next=6;break}return this.lbl_TipsLogo.node.active=!0,this.lbl_TipsText.node.active=!0,this.lbl_TipsText.string="不合规的ID!",e.abrupt("return");case 6:return e.next=8,this.onPlayerIdCheck(t);case 8:e.sent.success?(this.lbl_TipsText.node.active=!0,this.lbl_TipsLogo.node.active=!0,this.lbl_TipsText.string="名称已存在"):(localStorage.setItem(b,t),this.switchToStartScene());case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onPlayerIdCheck=function(){var e=s(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkPlayerId(t);case 2:return(r=e.sent).success,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.checkPlayerId=function(){var e=s(o().mark((function e(t){var r,n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="http://47.112.177.45/api/checkId.php?playerId="+t,e.prev=1,e.next=4,fetch(r);case 4:if((n=e.sent).ok){e.next=8;break}return console.error("HTTP error:",n.statusText),e.abrupt("return",{success:!1,message:"HTTP error: "+n.statusText});case 8:return e.next=10,n.json();case 10:if(!(i=e.sent).success){e.next=15;break}return e.abrupt("return",{success:!0,message:i.message});case 15:return e.abrupt("return",{success:!1,message:i.message});case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(1),console.error("请求失败:",e.t0),e.abrupt("return",{success:!1,message:"Network error: "+e.t0});case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),a.checkLegal=function(e){return!!/^(?=.*[\u4e00-\u9fa5]|(?=(?:[^a-zA-Z0-9]*[a-zA-Z0-9]){3}))[\u4e00-\u9fa5a-zA-Z0-9]{3,10}$/.test(e)||(console.error("玩家 ID 不合法: "+e),!1)},a.switchToStartScene=function(){f.loadScene("Start")},t}(g)).prototype,"ebx_ID",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(_.prototype,"btn_Commit",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(_.prototype,"lbl_TipsText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(_.prototype,"lbl_TipsLogo",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=_))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/SceneScriptMem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./GraphicsDrawer.ts","./AudioManager.ts"],(function(t){var i,e,n,a,o,r,s,l,c,p,h,u,d,m,b,w,g,v,f,C,T,D,S,P,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.Label,l=t.Sprite,c=t.Button,p=t.Node,h=t.Graphics,u=t.find,d=t.NodeEventType,m=t.UIOpacity,b=t.tween,w=t.Vec3,g=t.UITransform,v=t.Color,f=t.Component},function(t){C=t.GameData,T=t.PicNumMax,D=t.KeyMemTimes,S=t.RelativedPicNum},function(t){P=t.GraphicsDrawer},function(t){y=t.AudioManager}],execute:function(){var M,x,A,z,N,I,F,B,L,V,_,k,O,R,G,U,H,E,K,W,j,q,J,Q,X,Y,Z,$;o._RF.push({},"485f4ioAWhGq5TSFbBKgnVe","SceneScriptMem",void 0);var tt=r.ccclass,it=r.property;t("SceneScriptMem",(M=tt("SceneScriptMem"),x=it(s),A=it(s),z=it(s),N=it(s),I=it(l),F=it(s),B=it(c),L=it(s),V=it(p),_=it(String),k=it(h),M((G=i((R=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return i=t.call.apply(t,[this].concat(o))||this,n(i,"lblTips",G,a(i)),n(i,"lblTipsCD",U,a(i)),n(i,"lblCD",H,a(i)),n(i,"lblProgress",E,a(i)),n(i,"spPicMain",K,a(i)),n(i,"lblOverTips",W,a(i)),n(i,"btnBack",j,a(i)),n(i,"lblTipsMem",q,a(i)),n(i,"TipsCD",J,a(i)),n(i,"CD",Q,a(i)),n(i,"spContainer",X,a(i)),n(i,"pad",Y,a(i)),n(i,"initTipsStr",Z,a(i)),n(i,"graphics",$,a(i)),i.gameData=void 0,i.countdownValue=0,i.countdownTimer=null,i.animationTween=null,i.mainPicIndex=0,i.drawer=void 0,i}e(i,t);var o=i.prototype;return o.onLoad=function(){this.lblOverTips.node.active=!1,this.btnBack.node.active=!1,this.lblTipsCD.node.active=!1,this.lblCD.node.active=!1,this.lblTipsMem.node.active=!1,this.spPicMain.node.active=!1,this.lblProgress.node.active=!1,this.spContainer.active=!0,this.gameData=u("DataNode").getComponent(C),this.drawer=this.graphics.getComponent(P)},o.onEnable=function(){this.lblTips.node.on(d.TOUCH_START,this.onMemStartClick,this)},o.onDisable=function(){this.node.off(d.TOUCH_START,this.onMemStartClick,this)},o.onMemStartClick=function(){var t=this;this.lblTips.node.active=!1,this.startCountdown(this.lblTipsCD,this.TipsCD,1e3,this.initTipsStr,(function(){t.memCounter()}))},o.start=function(){var t=this.lblTips.getComponent(m);this.lblTips.getComponentInChildren(s).string=T+"",b(t).to(1.2,{opacity:85}).to(1,{opacity:255}).union().repeatForever().start(),this.TipsCD=this.TipsCD,this.CD=this.CD},o.memCounter=function(t){var i=this;if(void 0===t&&(t=0),this.mainPicIndex>=T){this.lblProgress.node.active=!1,this.lblCD.node.active=!1,this.spPicMain.node.active=!1,this.lblTipsMem.node.active=!1,this.spContainer.active=!1,this.drawer.clearAll();var e=this.gameData.getData(D);return this.gameData.setData(D,e+1),this.lblOverTips.node.active=!0,this.btnBack.node.active=!0,void y.instance.playCompleteSound()}t>0&&y.instance.playSwitchSoundLight(),this.lblProgress.node.active=!0,this.lblCD.node.active=!0,this.lblTipsMem.node.active=!0,this.showPics(this.mainPicIndex),this.mainPicIndex++,this.showProgress(this.mainPicIndex,T),this.startCountdown(this.lblCD,this.CD,200,null,(function(){i.memCounter(t+1)}))},o.showProgress=function(t,i){this.lblProgress.string=t+"/"+i},o.showPics=function(t){this.drawer.clearAll(),this.spPicMain.node.active=!0;var i=this.gameData.getSpriteFrameByIdx(t);this.spPicMain.spriteFrame=i,this.genAndShowNextPics(t)},o.genAndShowNextPics=function(t){var i=this.gameData.getNextToPics(t);this.gameData.shuffleArray(i),i=i.splice(0,S);var e=this.gameData.getNextDirectionsArr(t,i);this.showNextPics(i,e,.85)},o.showNextPics=function(t,i,e){var n;null==(n=this.spContainer)||n.removeAllChildren();for(var a=0;a<t.length;a++){var o=t[a],r=new p("Sprite"+a),s=r.addComponent(l),c=this.gameData.getSpriteFrameByIdx(o);s.spriteFrame=c,r.setScale(new w(e,e,1));var h=new w(0,0,0),u=this.spPicMain.getComponent(g).contentSize;h.x+=(u.width+this.pad)*i[a].x,h.y+=(u.height+this.pad)*i[a].y,this.spPicMain.getComponent(g).convertToWorldSpaceAR(h,h),this.spContainer.getComponent(g).convertToNodeSpaceAR(h,h),this.spContainer.addChild(r),r.setPosition(h),this.drawer.drawLine(this.spPicMain.node,r,new w(0,0,0),new w(0,0,0),new v(105,105,105,180))}},o.old_genAndShowNextPics=function(t){var i=this.gameData.getNextToPics(t);this.old_showNextPics(i,.8)},o.old_showNextPics=function(t,i){var e;null==(e=this.spContainer)||e.removeAllChildren();for(var n=0,a=[],o=0;o<t.length;o++){var r=this.gameData.getSpriteFrameByIdx(t[o]).rect.width*i;a.push(r),n+=r+(o<t.length-1?this.pad:0)}for(var s=-n/2,c=0;c<t.length;c++){var h=t[c],u=new p("Sprite"+c),d=u.addComponent(l),m=this.gameData.getSpriteFrameByIdx(h);d.spriteFrame=m,u.setScale(new w(i,i,1)),u.setPosition(new w(s+a[c]/2,0,0)),this.spContainer.addChild(u),s+=a[c]+this.pad,this.drawer.drawLine(this.spPicMain.node,u,new w(0,-1,0),new w(0,1,0),new v(105,105,105,180))}},o.startCountdown=function(t,i,e,n,a){var o=this;void 0===e&&(e=0),void 0===n&&(n=""),this.stopCountdown(),this.countdownValue=i;var r=t.node.active;t.node.active=!0,this.setLabel(t,this.countdownValue.toString()),null!=n&&""!=n&&this.setLabel(t,n),setTimeout((function(){o.countdownTimer=setInterval((function(){if(o.countdownValue--,o.countdownValue<=0)return o.stopCountdown(),t.node.active=r,void(a&&a());o.setLabel(t,o.countdownValue.toString()),o.countdownValue<=3&&o.countdownValue>0&&o.startScaleAnimation(t)}),1e3)}),e)},o.stopCountdown=function(){this.countdownTimer&&(clearInterval(this.countdownTimer),this.countdownTimer=null),this.stopScaleAnimation()},o.setLabel=function(t,i){t.string=i},o.startScaleAnimation=function(t){this.stopScaleAnimation(),this.animationTween=b(t.node).to(.5,{scale:new w(1.5,1.5,1)}).to(.5,{scale:new w(1,1,1)}).union().repeatForever().start()},o.stopScaleAnimation=function(){this.animationTween&&(this.animationTween.stop(),this.animationTween=null)},i}(f)).prototype,"lblTips",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(R.prototype,"lblTipsCD",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(R.prototype,"lblCD",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(R.prototype,"lblProgress",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=i(R.prototype,"spPicMain",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(R.prototype,"lblOverTips",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(R.prototype,"btnBack",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(R.prototype,"lblTipsMem",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(R.prototype,"TipsCD",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),Q=i(R.prototype,"CD",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),X=i(R.prototype,"spContainer",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=i(R.prototype,"pad",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),Z=i(R.prototype,"initTipsStr",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$=i(R.prototype,"graphics",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=R))||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/SceneScriptStart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./DialogPopUp.ts","./TipsPopUp.ts","./TestInputPopUp.ts"],(function(e){var t,a,n,o,i,l,p,r,s,m,c,u,g,h,b,d,D,v,T,y,f,S,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,p=e.Label,r=e.Button,s=e.Node,m=e.find,c=e.director,u=e.UITransform,g=e.EditBox,h=e.Vec3,b=e.Component},function(e){d=e.GameData,D=e.KeyMemTimes,v=e.KeySeed,T=e.KeyExamTimes,y=e.KeyExamResultHighest},function(e){f=e.DialogPopUp},function(e){S=e.TipsPopUp},function(e){C=e.TestInputPopUp}],execute:function(){var N,E,P,x,U,w,M,I,z,G,L,_,k,B,R,A,H,K,F,Y,j;i._RF.push({},"71d57HmPMFABLb82Ug8lQ7b","SceneScriptStart",void 0);var Q=l.ccclass,V=l.property;e("SceneScriptStart",(N=Q("SceneScriptStart"),E=V(p),P=V(p),x=V(p),U=V(p),w=V(p),M=V(r),I=V(s),z=V(s),G=V(s),N((k=t((_=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,n(t,"lblMemNum",k,o(t)),n(t,"lblExamNum",B,o(t)),n(t,"lblScoreName",R,o(t)),n(t,"lblScoreNum",A,o(t)),n(t,"lblSeed",H,o(t)),n(t,"btnCopy",K,o(t)),n(t,"nodeDialog",F,o(t)),n(t,"nodePopUpTextInput",Y,o(t)),n(t,"nodePopUpTips",j,o(t)),t.gameData=void 0,t}a(t,e);var i=t.prototype;return i.onLoad=function(){var e=m("DataNode");this.gameData=e.getComponent(d)},i.onEnable=function(){var e=this;this.gameData.eventTarget.on(this.gameData.GameEventType.EventTypeSetData,this.showData,this),this.gameData.eventTarget.on(this.gameData.GameEventType.EventTypeNoMemYet,(function(t){e.gameData.getData(D)<1?e.nodePopUpTips.getComponent(S).showPopUpTips(null,"你还没有记忆过"):c.loadScene(t)}),this),this.gameData.eventTarget.on(this.gameData.GameEventType.EventTypeCopyDone,(function(t){e.gameData.copyResultToClipBoard();var a=e.btnCopy.node.position.clone(),n=e.btnCopy.getComponent(u).contentSize;a.x+=n.width/2,a.y+=n.height,a.y+=5,a=e.btnCopy.node.getParent().getComponent(u).convertToWorldSpaceAR(a),e.nodePopUpTips.getComponent(S).showPopUpTips(a,t)}),this),this.gameData.eventTarget.on(this.gameData.GameEventType.EventTypeTouchHoldDone,(function(t){e.holdTouchDoneCallback(t)}),this)},i.onDisable=function(){this.gameData.eventTarget.off(this.gameData.GameEventType.EventTypeSetData),this.gameData.eventTarget.off(this.gameData.GameEventType.EventTypeNoMemYet),this.gameData.eventTarget.off(this.gameData.GameEventType.EventTypeCopyDone)},i.start=function(){this.showData()},i.holdTouchDoneCallback=function(e){var t=this;switch(e){case"msg_reset":this.nodeDialog.getComponent(f).popDialog("确定要重置数据吗？",(function(){t.gameData.resetData(),t.gameData.saveData()}));break;case"msg_seed":this.nodePopUpTextInput.getComponent(C).popTextInput((function(e){""!=e&&(t.gameData.setData(v,e),t.gameData.saveData())}));break;case"msg_decompose":var a=this.nodePopUpTextInput.getComponentInChildren(g),n=a.inputMode,o=a.maxLength,i=a.placeholder,l=a.string;a.inputMode=g.InputMode.ANY,a.maxLength=-1,a.placeholder="请输入密文...",this.nodePopUpTextInput.getComponent(C).popTextInput((function(e){if(""!=e){var p=new h(640,360,0),r=t.gameData.deCopyCode(e);t.nodePopUpTips.getComponent(S).showPopUpTips(p,r,7),cc.log(r)}a.inputMode=n,a.maxLength=o,a.placeholder=i,a.string=l}),(function(){a.inputMode=n,a.maxLength=o,a.placeholder=i,a.string=l}))}},i.showData=function(){var e=this.gameData.getData(D),t=this.gameData.getData(T),a=this.gameData.getData(y);this.lblSeed.getComponent(p).string="s"+this.gameData.getData(v),this.lblMemNum&&(e>0?(this.lblMemNum.node.active=!0,this.lblMemNum.getComponent(p).string=e):this.lblMemNum.node.active=!1),this.lblExamNum&&(t>0?(this.lblExamNum.node.active=!0,this.lblExamNum.getComponent(p).string=t):this.lblExamNum.node.active=!1),this.lblScoreNum&&this.lblScoreName&&(null!==a?(this.lblScoreNum.node.active=!0,this.lblScoreName.node.active=!0,this.btnCopy.node.active=!0,this.lblScoreNum.getComponent(p).string=a):(this.lblScoreNum.node.active=!1,this.lblScoreName.node.active=!1,this.btnCopy.node.active=!1))},t}(b)).prototype,"lblMemNum",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(_.prototype,"lblExamNum",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(_.prototype,"lblScoreName",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(_.prototype,"lblScoreNum",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(_.prototype,"lblSeed",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(_.prototype,"btnCopy",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(_.prototype,"nodeDialog",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(_.prototype,"nodePopUpTextInput",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(_.prototype,"nodePopUpTips",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=_))||L));i._RF.pop()}}}));

System.register("chunks:///_virtual/TestInputPopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,i,l,o,a,c,r,s;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,l=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,c=n.Button,r=n.EditBox,s=n.Component}],execute:function(){var u,p,h,b,C,f,k,d,v;o._RF.push({},"70a18dU4/5KtY9qUbrwvNYg","TestInputPopUp",void 0);var g=a.ccclass,y=a.property;n("TestInputPopUp",(u=g("TestInputPopUp"),p=y(c),h=y(c),b=y(r),u((k=t((f=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o))||this,i(t,"btnOk",k,l(t)),i(t,"btnCancel",d,l(t)),i(t,"editBox",v,l(t)),t.okCallback=null,t.cancelCallback=null,t}e(t,n);var o=t.prototype;return o.onEnable=function(){var n,t;null==(n=this.btnOk)||n.node.on(c.EventType.CLICK,this.onClickOk,this),null==(t=this.btnCancel)||t.node.on(c.EventType.CLICK,this.onClickCancel,this)},o.onDisable=function(){var n,t;null==(n=this.btnOk)||n.node.off(c.EventType.CLICK),null==(t=this.btnCancel)||t.node.off(c.EventType.CLICK)},o.start=function(){},o.update=function(n){},o.popTextInput=function(n,t){this.okCallback=n||null,this.cancelCallback=t||null,this.node.active=!0,this.node.setSiblingIndex(this.node.parent.children.length-1)},o.onClickOk=function(){var n=this.editBox.getComponent(r).string;this.okCallback&&this.okCallback(n),this.closeDialog()},o.onClickCancel=function(){var n=this.editBox.getComponent(r).string;this.cancelCallback&&this.cancelCallback(n),this.closeDialog()},o.closeDialog=function(){this.node.active=!1},t}(s)).prototype,"btnOk",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(f.prototype,"btnCancel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(f.prototype,"editBox",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=f))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/TextUpdate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts"],(function(t){var e,a,n,r,i,o,p,s,c,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,p=t.find,s=t.Label,c=t.Component},function(t){l=t.GameData,u=t.KeyPlayerId}],execute:function(){var d,g,f;i._RF.push({},"5770953xrZNRpD+Ei3QCn9B","TextUpdate",void 0);var m=o.ccclass,D=o.property;t("TextUpdate",m("TextUpdate")((f=e((g=function(t){function e(){for(var e,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,n(e,"gameData",f,r(e)),e}a(e,t);var i=e.prototype;return i.start=function(){this.gameData=p("DataNode").getComponent(l),this.node.getComponent(s).string=""},i.update=function(t){var e=this.gameData.getData(u);this.node.getComponent(s).string=e},e}(c)).prototype,"gameData",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/TipsPopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,n,o,a,s,r,c,p,l,u,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Label,c=t.UITransform,p=t.Vec3,l=t.UIOpacity,u=t.tween,h=t.Component}],execute:function(){var v,d,f,g;a._RF.push({},"9321d01ChpNb5cKMvjpX9Q8","TipsPopUp",void 0);var y=s.ccclass,P=s.property;t("TipsPopUp",y("TipsPopUp")((f=i((d=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return i=t.call.apply(t,[this].concat(a))||this,n(i,"activeDuration",f,o(i)),n(i,"stayDuration",g,o(i)),i.fadeTween=null,i.moveTween=null,i.initialPosition=null,i.targetPosition=null,i}e(i,t);var a=i.prototype;return a.onLoad=function(){this.initialPosition=this.node.position.clone()},a.showPopUpTips=function(t,i,e){var n=this;void 0===e&&(e=this.stayDuration),this.node.active=!0,i&&(this.getComponentInChildren(r).string=i),this.targetPosition=this.initialPosition,t&&(this.targetPosition=this.node.getParent().getComponent(c).convertToNodeSpaceAR(t)),this.fadeTween&&this.fadeTween.stop(),this.moveTween&&this.moveTween.stop(),this.targetPosition&&this.node.setPosition(this.targetPosition.clone().subtract(new p(0,30,0)));var o=this.getComponent(l);o.opacity=0,this.moveTween=u(this.node).to(this.activeDuration,{position:this.targetPosition},{easing:"sineOut"}).delay(e||this.stayDuration).call((function(){n.fadeTween=u(o).to(n.activeDuration,{opacity:0},{easing:"sineIn"}).call((function(){n.node.active=!1})).start()})).start(),this.fadeTween=u(o).to(this.activeDuration,{opacity:255},{easing:"sineIn"}).start()},i}(h)).prototype,"activeDuration",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),g=i(d.prototype,"stayDuration",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),v=d))||v);a._RF.pop()}}}));

System.register("chunks:///_virtual/TouchHoldEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(t){var n,i,o,e,s,h,r,u,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){s=t.cclegacy,h=t._decorator,r=t.NodeEventType,u=t.Component},function(t){c=t.EventManager}],execute:function(){var a,l,d,T,p,f;s._RF.push({},"9cd8dI4WEtA8IAoqlKiKKkb","TouchHoldEvent",void 0);var v=h.ccclass,E=h.property;t("TouchHoldEvent",(a=v("TouchHoldEvent"),l=E(String),a((p=n((T=function(t){function n(){for(var n,i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return(n=t.call.apply(t,[this].concat(s))||this).eventMgr=void 0,n.holdTime=0,n.isHolding=!1,o(n,"holdDuration",p,e(n)),o(n,"customEventData",f,e(n)),n}i(n,t);var s=n.prototype;return s.onLoad=function(){},s.start=function(){this.eventMgr=c.instance},s.onEnable=function(){this.node.on(r.TOUCH_START,this.onTouchStart,this),this.node.on(r.TOUCH_END,this.onTouchEnd,this),this.node.on(r.TOUCH_CANCEL,this.onTouchEnd,this)},s.onDisable=function(){this.node.off(r.TOUCH_START,this.onTouchStart,this),this.node.off(r.TOUCH_END,this.onTouchEnd,this),this.node.off(r.TOUCH_CANCEL,this.onTouchEnd,this)},s.update=function(t){},s.onTouchStart=function(){this.isHolding=!0,this.holdTime=0,this.schedule(this.updateHoldTime,1)},s.onTouchEnd=function(){this.isHolding=!1,this.unschedule(this.updateHoldTime)},s.updateHoldTime=function(){this.isHolding&&(this.holdTime+=1,this.holdTime>=this.holdDuration&&(this.holdTime=0,this.isHolding=!1,this.unschedule(this.updateHoldTime),this.eventMgr.eventTarget.emit(this.eventMgr.GameEventType.EventTypeTouchHoldDone,this.customEventData)))},n}(u)).prototype,"holdDuration",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),f=n(T.prototype,"customEventData",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"null"}}),d=T))||d));s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});