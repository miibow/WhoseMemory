System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var i,e,o,t,r,u,c,a,s,l;return{setters:[function(n){i=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,t=n.assertThisInitialized,r=n.createClass},function(n){u=n.cclegacy,c=n._decorator,a=n.AudioClip,s=n.AudioSource,l=n.Component}],execute:function(){var d,p,h,g,S,f;u._RF.push({},"c3599gbLT1Li4uDvbaUbNnZ","AudioManager",void 0);var _=c.ccclass,y=c.property;n("AudioManager",(d=_("AudioManager"),p=y(a),d(((f=function(n){function i(){for(var i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return i=n.call.apply(n,[this].concat(r))||this,o(i,"clickSound",S,t(i)),i._audioSource=null,i}e(i,n);var u=i.prototype;return u.onLoad=function(){i._instance=this,this._audioSource=this.node.getComponent(s),this._audioSource||console.error("AudioSource component is required on AudioManager node")},u.playClickSound=function(){this._audioSource&&this.clickSound&&this._audioSource.playOneShot(this.clickSound)},r(i,null,[{key:"instance",get:function(){return this._instance||console.error("AudioManager instance is not initialized!"),this._instance}}]),i}(l))._instance=null,S=i((g=f).prototype,"clickSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=g))||h));u._RF.pop()}}}));

System.register("chunks:///_virtual/BtnEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./AudioManager.ts"],(function(e){var t,n,a,o,i,c,r,s,u,m;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator,o=e.find,i=e.Button,c=e.director,r=e.Component},function(e){s=e.GameData,u=e.KeyMemTimes},function(e){m=e.AudioManager}],execute:function(){var p;n._RF.push({},"48516NxbUhLJJzJmb/FobxK","BtnEvent",void 0);var g=a.ccclass;a.property,e("BtnEvent",g("BtnEvent")(p=function(e){function n(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).gameData=void 0,t}t(n,e);var a=n.prototype;return a.onLoad=function(){this.gameData=o("DataNode").getComponent(s)},a.start=function(){var e=this.getComponent(i);e&&e.node.on(i.EventType.CLICK,this.onClick,this)},a.onClick=function(){m.instance.playClickSound()},a.changeSceneCheckMem=function(e,t){this.gameData.getData(u)<1?this.gameData.eventTarget.emit(this.gameData.GameEventType.EventTypeNoMemYet):c.loadScene(t)},a.changeScene=function(e,t){c.loadScene(t,(function(){}))},a.copyCode=function(e,t){this.gameData.eventTarget.emit(this.gameData.GameEventType.EventTypeCopyDone,t)},a.selectAnswer=function(e,t){"y"!=t&&"n"!=t||this.gameData.eventTarget.emit(this.gameData.GameEventType.EventTypeSelectDone,t)},n}(r))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/DialogPopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,l,e,i,o,a,c,r,u;return{setters:[function(n){t=n.applyDecoratedDescriptor,l=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,c=n.Label,r=n.Button,u=n.Component}],execute:function(){var s,p,b,h,f,C,k,g,d;o._RF.push({},"4e481EifD5DkqncNXTbeYFn","DialogPopUp",void 0);var v=a.ccclass,y=a.property;n("DialogPopUp",(s=v("DialogPopUp"),p=y(c),b=y(r),h=y(r),s((k=t((C=function(n){function t(){for(var t,l=arguments.length,o=new Array(l),a=0;a<l;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o))||this,e(t,"labelTips",k,i(t)),e(t,"buttonOk",g,i(t)),e(t,"buttonCancel",d,i(t)),t.okCallback=null,t.cancelCallback=null,t}l(t,n);var o=t.prototype;return o.onEnable=function(){var n,t;null==(n=this.buttonOk)||n.node.on(r.EventType.CLICK,this.onClickOk,this),null==(t=this.buttonCancel)||t.node.on(r.EventType.CLICK,this.onClickCancel,this)},o.onDisable=function(){var n,t;null==(n=this.buttonOk)||n.node.off(r.EventType.CLICK),null==(t=this.buttonCancel)||t.node.off(r.EventType.CLICK)},o.start=function(){},o.update=function(n){},o.popDialog=function(n,t,l){this.labelTips&&(this.labelTips.string=n),this.okCallback=t||null,this.cancelCallback=l||null,this.node.active=!0,this.node.setSiblingIndex(this.node.parent.children.length-1)},o.onClickOk=function(){this.okCallback&&this.okCallback(),this.closeDialog()},o.onClickCancel=function(){this.cancelCallback&&this.cancelCallback(),this.closeDialog()},o.closeDialog=function(){this.node.active=!1},t}(u)).prototype,"labelTips",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(C.prototype,"buttonOk",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(C.prototype,"buttonCancel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=C))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./index.js"],(function(e){var t,s,i,r,a,n,o,u,h,m,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,o=e.director,u=e.EventTarget,h=e.resources,m=e.SpriteFrame,c=e.Component},null,function(e){l=e.default}],execute:function(){var d,x,p;a._RF.push({},"7bfc5yKCxhPt7quGENqauis","GameData",void 0);var f=n.ccclass,y=n.property,v="WhiteCatIntp",E=e("KeyMemTimes","MemTimes"),S=e("KeyExamTimes","ExamTimes"),g=e("KeyExamResults","ExamResult"),T=e("KeyExamResultHighest","ExamResultHighest"),R=e("KeyExamResultLast","ExamResultLast"),P=e("KeySeed","Seed"),M=e("PicNumMax",9),D=function(){function e(e){this.seed=void 0,this.seed=e}var t=e.prototype;return t.next=function(){return this.seed=(1664525*this.seed+1013904223)%4294967295,(this.seed>>>0)/4294967295},t.random=function(){return this.next()},t.randomInt=function(e,t){return Math.floor(this.random()*(t-e+1))+e},t.isPerfectSquare=function(e){if(e<0)return{isSquare:!1};var t=Math.sqrt(e);return Number.isInteger(t)?{isSquare:!0,n:t}:{isSquare:!1}},e}();e("GameData",f("GameData")((p=t((x=function(t){function a(){for(var e,s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).MemTimes=void 0,e.ExamTimes=void 0,e.ExamResultLast=void 0,e.ExamResults=void 0,e.arrSfGroup=[],e.arrSpPosIndex=[],e.arrSpPositions=[{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:1,y:0},{x:1,y:1},{x:1,y:2},{x:2,y:0},{x:2,y:1},{x:2,y:2}],e.eventTarget=void 0,e.GameEventType={EventTypeSetData:"SetData",EventTypeSelectDone:"SelectDone",EventTypeNoMemYet:"NoMemYet",EventTypeCopyDone:"CopyDone",EventTypeDecomposeCode:"DecomposeCode",EventTypeTouchHoldDone:"TouchHoldDone"},e.randomSeed=null,e.mt=null,e.questionsNum=0,i(e,"picNumMax",p,r(e)),e}s(a,t);var n=a.prototype;return n.onLoad=function(){o.addPersistRootNode(this.node),this.resourcesPreLoad(),this.eventTarget=new u,this.randomSeed=Math.floor(1e6*Math.random()),this.mt=new D(this.randomSeed),M=e("PicNumMax",this.picNumMax||M)},n.start=function(){this.MemTimes=0,this.ExamTimes=0,this.ExamResults=JSON.parse(localStorage.getItem(g)||"[]"),this.ExamResultLast=this.getExamResultLast(),this.MemTimes=isNaN(this.MemTimes)?0:this.MemTimes,this.ExamTimes=isNaN(this.ExamTimes)?0:this.ExamTimes;var e=this.mt.isPerfectSquare(M);if(e.isSquare){this.arrSpPositions=[];for(var t=0;t<M;t++){var s=t%e.n,i=Math.floor(t/e.n);this.arrSpPositions.push({x:i,y:s})}}for(var r=0;r<M;r++)this.arrSpPosIndex.push(r);this.shuffleArray(this.arrSpPosIndex),this.printSfGroupWithPositions()},n.getPicPosByPosIdx=function(e){return this.arrSpPositions[e]},n.genExamPicsByMainPicIdx=function(e){for(var t=[],s=this.mt.randomInt(2,M),i=0;i<s;i++)i!=e&&t.push(i);return this.questionsNum+=t.length,this.shuffleArray(t),t},n.checkNextTo__=function(e,t){var s=!1;return 1==Math.abs(e.x-t.x)+Math.abs(e.y-t.y)&&(s=!0),s},n.checkNextTo=function(e,t){var s=this.getPicPosByPosIdx(this.arrSpPosIndex[e]),i=this.getPicPosByPosIdx(this.arrSpPosIndex[t]);return this.checkNextTo__(s,i)},n.getNextToPics=function(e){for(var t=[],s=0;s<this.arrSpPosIndex.length;s++)if(e!=s){this.arrSpPosIndex[s];this.checkNextTo(e,s)&&t.push(s)}return t},n.getSpriteFrameByIdx=function(e){return this.arrSfGroup[e]},n.setExamResultLast=function(e,t,s){var i=this.makeResultKey(e,t);Array.isArray(this.ExamResults)||(this.ExamResults=[]);var r,a=this.ExamResults.findIndex((function(e){return Object.keys(e)[0]===i}));-1!==a?this.ExamResults[a][i]=s:this.ExamResults.push(((r={})[i]=s,r))},n.saveResult=function(){localStorage.setItem(g,JSON.stringify(this.ExamResults))},n.getExamResultLast=function(){if(!this.ExamResults||0===this.ExamResults.length)return null;var e=this.ExamResults[this.ExamResults.length-1];return e[Object.keys(e)[0]]||null},n.getExamResultHighest=function(){if(!this.ExamResults||0===this.ExamResults.length)return null;var e=null;return this.ExamResults.forEach((function(t){var s=t[Object.keys(t)[0]];(null===e||s>e)&&(e=s)})),e},n.makeResultKey=function(e,t,s,i,r){return void 0===s&&(s=M),void 0===i&&(i=this.questionsNum),void 0===r&&(r=this.randomSeed),"M"+e+"_E"+t+"_P"+s+"_Q"+i+"_S"+r},n.decomposeExamResult=function(e){for(var t,s=Object.keys(e)[0],i=e[s],r=/([a-zA-Z]+)(\d+)/g,a={};null!==(t=r.exec(s));){var n=t[1],o=parseInt(t[2]);a[n]=o}return Object.keys(a).length>0?(a.v=i,a):null},n.getData=function(e){var t=0;switch(e){case E:t=this.MemTimes;break;case S:t=this.ExamTimes;break;case R:t=this.ExamResultLast;break;case T:t=this.getExamResultHighest();break;case P:t=this.randomSeed;break;default:t=0}return t},n.setData=function(e,t){switch(e){case E:this.MemTimes=t;break;case S:this.ExamTimes=t;break;case R:this.ExamResultLast=t,this.setExamResultLast(this.MemTimes,this.ExamTimes,this.ExamResultLast),this.questionsNum=0;break;case P:this.randomSeed=t}this.eventTarget.emit(this.GameEventType.EventTypeSetData)},n.resetData=function(){this.MemTimes=0,this.ExamTimes=0,this.ExamResults=[],this.eventTarget.emit(this.GameEventType.EventTypeSetData)},n.saveData=function(){this.saveResult()},n.saveDataByKey=function(e,t){localStorage.setItem(e,t)},n.resourcesPreLoad=function(){for(var e=0;e<M;e++){var t="/imageGroup/pic-"+("00"+e).slice(-2)+"/spriteFrame";this.loadSpriteFrames(t)}},n.loadSpriteFrames=function(e){var t=this;h.load(e,m,(function(e,s){e||(t.arrSfGroup.push(s),s.addRef())}))},n.shuffleArray=function(e){for(var t=e.length-1;t>0;t--){var s=this.mt.randomInt(0,t),i=[e[s],e[t]];e[t]=i[0],e[s]=i[1]}},n.setSeedManual=function(e){this.resetData(),this.randomSeed=e,this.mt=new D(this.randomSeed),this.eventTarget.emit(this.GameEventType.EventTypeSetData)},n.copyResultToClipBoard=function(){if(this.ExamResults&&0!==this.ExamResults.length){var e=this.ExamResults.map((function(e){var t=Object.keys(e)[0];return t+": "+e[t]})).join("\n"),t=l.AES.encrypt(e,v).toString();navigator.clipboard.writeText(t).then((function(){console.log("Encrypted exam results copied to clipboard.")})).catch((function(e){console.error("Failed to copy encrypted exam results to clipboard",e)}))}else console.error("No exam results to copy.")},n.deCopyCode=function(e){try{var t=l.AES.decrypt(e,v).toString(l.enc.Utf8);return t||(console.error("Decryption failed or the input string is invalid."),null)}catch(e){return console.error("Error during decryption:",e),null}},n.printSfGroupWithPositions=function(){for(var e=[],t=Math.sqrt(this.arrSpPositions.length),s=0;s<t;s++)e.push(new Array(t).fill(0));for(var i=0;i<this.arrSpPosIndex.length;i++){var r=this.arrSpPositions[this.arrSpPosIndex[i]];e[r.x][r.y]=i}for(var a=0,n=e;a<n.length;a++){var o=n[a];cc.log(o.join(" "))}},a}(c)).prototype,"picNumMax",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 9}}),d=x))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/GraphicsDrawer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t,n,r,i,c,s,a;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,n=o._decorator,r=o.Graphics,i=o.Color,c=o.UITransform,s=o.Vec3,a=o.Component}],execute:function(){var h;t._RF.push({},"96fc0WKgnlC4oLBF1diSpDS","GraphicsDrawer",void 0);var p=n.ccclass;n.property,o("GraphicsDrawer",p("GraphicsDrawer")(h=function(o){function t(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))||this).graphics=null,e}e(t,o);var n=t.prototype;return n.onLoad=function(){this.graphics=this.node.getComponent(r)},n.start=function(){},n.update=function(o){},n.drawLine=function(o,e,t,n,r){void 0===r&&(r=i.GREEN);var a=o.getComponent(c).contentSize,h=e.getComponent(c).contentSize,p=new s(0,0,0),g=new s(0,0,0);t&&(p.x=t.x*a.width/2,p.y=t.y*a.height/2),n&&(g.x=n.x*h.width/2,g.y=n.y*h.height/2);var l=o.getComponent(c).convertToWorldSpaceAR(p),d=e.getComponent(c).convertToWorldSpaceAR(g),u=this.node.getComponent(c).convertToNodeSpaceAR(l),v=this.node.getComponent(c).convertToNodeSpaceAR(d);this.graphics.strokeColor=r,this.graphics.moveTo(u.x,u.y),this.graphics.lineTo(v.x,v.y),this.graphics.stroke()},n.drawCross=function(o,e,t,n,r){void 0===r&&(r=i.WHITE);var a=o.getComponent(c).convertToWorldSpaceAR(new s(0,-o.getComponent(c).contentSize.height/2,0)),h=e.getComponent(c).convertToWorldSpaceAR(new s(0,e.getComponent(c).contentSize.height/2,0)),p=new s((a.x+h.x)/2+n.x,(a.y+h.y)/2+n.y,0),g=this.node.getComponent(c).convertToNodeSpaceAR(p),l=t/2;this.graphics.strokeColor=r,this.graphics.moveTo(g.x-l,g.y-l),this.graphics.lineTo(g.x+l,g.y+l),this.graphics.moveTo(g.x-l,g.y+l),this.graphics.lineTo(g.x+l,g.y-l),this.graphics.stroke()},n.clearAll=function(){this.graphics&&this.graphics.clear()},t}(a))||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AudioManager.ts","./BtnEvent.ts","./DialogPopUp.ts","./GameData.ts","./GraphicsDrawer.ts","./SceneScriptExam.ts","./SceneScriptMem.ts","./SceneScriptStart.ts","./TestInputPopUp.ts","./TipsPopUp.ts","./TouchHoldEvent.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SceneScriptExam.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./GraphicsDrawer.ts"],(function(e){var t,i,n,a,o,r,s,l,c,h,u,d,p,b,m,w,v,g,f,D,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.Label,l=e.Button,c=e.Sprite,h=e.Graphics,u=e.find,d=e.Vec3,p=e.Color,b=e.tween,m=e.Quat,w=e.Component},function(e){v=e.GameData,g=e.PicNumMax,f=e.KeyExamTimes,D=e.KeyExamResultLast},function(e){S=e.GraphicsDrawer}],execute:function(){var y,P,T,x,I,C,k,E,M,A,N,O,z,L,Y,V,B,G,F,Q,_,J,R,K,j,H,q,U,W;o._RF.push({},"00c5aYkpyFMYJ6FmJCJErbr","SceneScriptExam",void 0);var X=r.ccclass,Z=r.property;e("SceneScriptExam",(y=X("SceneScriptExam"),P=Z(s),T=Z(s),x=Z(s),I=Z(s),C=Z(s),k=Z(l),E=Z(l),M=Z(c),A=Z(c),N=Z(s),O=Z(l),z=Z(h),y((V=t((Y=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"lblTips",V,a(t)),n(t,"lblTipsCD",B,a(t)),n(t,"lblCD",G,a(t)),n(t,"lblProgress",F,a(t)),n(t,"lblQuestionMark",Q,a(t)),n(t,"btnY",_,a(t)),n(t,"btnN",J,a(t)),n(t,"spMain",R,a(t)),n(t,"spOther",K,a(t)),n(t,"lblOverTips",j,a(t)),n(t,"btnBack",H,a(t)),n(t,"graphics",q,a(t)),n(t,"TipsCD",U,a(t)),n(t,"CD",W,a(t)),t.EventTypeSelect={SelectNone:"none",SelectY:"y",SelectN:"n"},t.gameData=void 0,t.countdownValue=0,t.countdownTimer=null,t.animationTween=null,t.mainPicIndex=0,t.otherPicIdxArr=null,t.otherPicArrIdx=0,t.score=0,t.drawer=void 0,t.shakeDuration=.3,t.shakeIntensity=5,t.curSelectMode=null,t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.lblTips.node.active=!1,this.lblCD.node.active=!1,this.lblProgress.node.active=!1,this.btnY.node.active=!1,this.btnN.node.active=!1,this.spMain.node.active=!1,this.spOther.node.active=!1,this.lblQuestionMark.node.active=!1,this.curSelectMode=this.EventTypeSelect.SelectNone,this.gameData=u("DataNode").getComponent(v),this.drawer=this.graphics.getComponent(S)},o.onEnable=function(){this.gameData.eventTarget.on(this.gameData.GameEventType.EventTypeSelectDone,this.showSelectDone,this)},o.onDisable=function(){this.gameData.eventTarget.off(this.gameData.GameEventType.EventTypeSelectDone,this.showSelectDone,this)},o.start=function(){var e=this;this.startCountdown(this.lblTipsCD,this.TipsCD,200,(function(){e.lblTipsCD.node.active=!1,e.examCounter()}))},o.recordScore=function(e){var t=e==this.EventTypeSelect.SelectY?1:0;t=e==this.EventTypeSelect.SelectN?-1:t;var i=this.gameData.checkNextTo(this.mainPicIndex,this.otherPicIdxArr[this.otherPicArrIdx]);switch(t){case 1:this.score=i?this.score+1:this.score;break;case-1:this.score=i?this.score:this.score+1}cc.log(this.mainPicIndex,this.otherPicIdxArr[this.otherPicArrIdx]),cc.log(i,this.curSelectMode,e,this.score)},o.showSelectDone=function(e){this.drawer.clearAll(),this.lblQuestionMark.node.active=!1;var t=this.btnY.getComponentInChildren(s),i=this.btnN.getComponentInChildren(s);switch(t.enableOutline=!1,i.enableOutline=!1,this.curSelectMode=e,this.curSelectMode){case this.EventTypeSelect.SelectNone:this.lblQuestionMark.node.active=!0,this.drawer.drawLine(this.spMain.node,this.spOther.node,new d(0,0,0),new d(0,0,0),new p(105,105,105,180));break;case this.EventTypeSelect.SelectY:t.enableOutline=!0,this.drawer.drawLine(this.spMain.node,this.spOther.node,new d(0,0,0),new d(0,0,0),new p(0,185,0,200));break;case this.EventTypeSelect.SelectN:i.enableOutline=!0,this.drawer.drawLine(this.spMain.node,this.spOther.node,new d(0,0,0),new d(0,0,0),new p(105,105,105,180)),this.drawer.drawCross(this.spMain.node,this.spOther.node,30,new d(3,5,0),new p(185,0,0,200))}},o.examCounter=function(e){var t=this;if(void 0===e&&(e=0),0==e&&(this.lblTips.node.active=!0,this.btnY.node.active=!0,this.btnN.node.active=!0,this.lblProgress.node.active=!0,this.lblCD.node.active=!0,this.otherPicArrIdx=0,this.mainPicIndex=0,this.otherPicIdxArr=this.gameData.genExamPicsByMainPicIdx(this.mainPicIndex)),0!=e&&this.mainPicIndex<g&&this.otherPicArrIdx<this.otherPicIdxArr.length&&(this.shakeNode(this.spOther),this.recordScore(this.curSelectMode),this.otherPicArrIdx++),this.otherPicArrIdx>=this.otherPicIdxArr.length&&(this.rotateShake(this.spMain),this.shakeNode(this.spOther),this.mainPicIndex++,this.otherPicIdxArr=this.gameData.genExamPicsByMainPicIdx(this.mainPicIndex),this.otherPicArrIdx=0),this.mainPicIndex>=g){this.lblProgress.node.active=!1,this.lblCD.node.active=!1,this.spMain.node.active=!1,this.spOther.node.active=!1,this.lblTips.node.active=!1,this.btnY.node.active=!1,this.btnN.node.active=!1,this.lblQuestionMark.node.active=!1,this.drawer.clearAll();var i=this.gameData.getData(f);return this.gameData.setData(f,i+1),this.gameData.setData(D,this.score),this.gameData.saveData(),this.lblOverTips.node.active=!0,void(this.btnBack.node.active=!0)}this.gameData.eventTarget.emit(this.gameData.GameEventType.EventTypeSelectDone,this.EventTypeSelect.SelectNone),this.showPics(this.spMain,this.mainPicIndex),this.showPics(this.spOther,this.otherPicIdxArr[this.otherPicArrIdx]),this.showSelectDone(this.EventTypeSelect.SelectNone),this.showProgress(this.mainPicIndex+1,g),this.startCountdown(this.lblCD,this.CD,200,(function(){t.examCounter(e+1)}))},o.shakeNode=function(e){if(e){var t=e.node,i=t.getPosition().clone();b(t).to(this.shakeDuration/2,{position:i.clone().add3f(this.shakeIntensity,0,0)}).to(this.shakeDuration/2,{position:i.clone().add3f(-this.shakeIntensity,0,0)}).to(this.shakeDuration/2,{position:i}).call((function(){t.setPosition(i)})).start()}},o.rotateShake=function(e){if(e){var t=e.node,i=t.rotation.clone();b(t).to(this.shakeDuration/4,{rotation:m.fromEuler(new m,0,0,-this.shakeIntensity)}).to(this.shakeDuration/4,{rotation:m.fromEuler(new m,0,0,this.shakeIntensity)}).to(this.shakeDuration/4,{rotation:i}).start()}},o.showProgress=function(e,t){this.lblProgress.string=e+"/"+t},o.showPics=function(e,t){this.drawer.clearAll(),e.node.active=!0;var i=this.gameData.getSpriteFrameByIdx(t);e.spriteFrame=i},o.startCountdown=function(e,t,i,n){var a=this;void 0===i&&(i=0),this.stopCountdown(),this.countdownValue=t;var o=e.node.active;e.node.active=!0,this.setLabel(e,this.countdownValue.toString()),setTimeout((function(){a.countdownTimer=setInterval((function(){if(a.countdownValue--,a.countdownValue<=0)return a.stopCountdown(),e.node.active=o,void(n&&n());a.setLabel(e,a.countdownValue.toString()),a.countdownValue<=3&&a.countdownValue>0&&a.startScaleAnimation(e)}),1e3)}),i)},o.stopCountdown=function(){this.countdownTimer&&(clearInterval(this.countdownTimer),this.countdownTimer=null),this.stopScaleAnimation()},o.setLabel=function(e,t){e.string=t},o.startScaleAnimation=function(e){this.stopScaleAnimation(),this.animationTween=b(e.node).to(.5,{scale:new d(1.5,1.5,1)}).to(.5,{scale:new d(1,1,1)}).union().repeatForever().start()},o.stopScaleAnimation=function(){this.animationTween&&(this.animationTween.stop(),this.animationTween=null)},t}(w)).prototype,"lblTips",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(Y.prototype,"lblTipsCD",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(Y.prototype,"lblCD",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(Y.prototype,"lblProgress",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(Y.prototype,"lblQuestionMark",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(Y.prototype,"btnY",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(Y.prototype,"btnN",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(Y.prototype,"spMain",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(Y.prototype,"spOther",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(Y.prototype,"lblOverTips",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(Y.prototype,"btnBack",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(Y.prototype,"graphics",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(Y.prototype,"TipsCD",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),W=t(Y.prototype,"CD",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),L=Y))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/SceneScriptMem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./GraphicsDrawer.ts"],(function(t){var e,i,n,a,o,r,l,s,c,u,p,h,d,b,m,w,v,f,g,C,T,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,l=t.Label,s=t.Sprite,c=t.Button,u=t.Node,p=t.Graphics,h=t.find,d=t.NodeEventType,b=t.UIOpacity,m=t.tween,w=t.Vec3,v=t.Color,f=t.Component},function(t){g=t.GameData,C=t.PicNumMax,T=t.KeyMemTimes},function(t){D=t.GraphicsDrawer}],execute:function(){var y,P,S,M,z,x,A,I,B,F,V,k,L,N,O,G,_,R,H,U,E,K,j,q,W,J;o._RF.push({},"485f4ioAWhGq5TSFbBKgnVe","SceneScriptMem",void 0);var Q=r.ccclass,X=r.property;t("SceneScriptMem",(y=Q("SceneScriptMem"),P=X(l),S=X(l),M=X(l),z=X(l),x=X(s),A=X(l),I=X(c),B=X(l),F=X(u),V=X(p),y((N=e((L=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"lblTips",N,a(e)),n(e,"lblTipsCD",O,a(e)),n(e,"lblCD",G,a(e)),n(e,"lblProgress",_,a(e)),n(e,"spPicMain",R,a(e)),n(e,"lblOverTips",H,a(e)),n(e,"btnBack",U,a(e)),n(e,"lblTipsMem",E,a(e)),n(e,"TipsCD",K,a(e)),n(e,"CD",j,a(e)),n(e,"spContainer",q,a(e)),n(e,"pad",W,a(e)),n(e,"graphics",J,a(e)),e.gameData=void 0,e.countdownValue=0,e.countdownTimer=null,e.animationTween=null,e.mainPicIndex=0,e.drawer=void 0,e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.lblOverTips.node.active=!1,this.btnBack.node.active=!1,this.lblTipsCD.node.active=!1,this.lblCD.node.active=!1,this.lblTipsMem.node.active=!1,this.spPicMain.node.active=!1,this.lblProgress.node.active=!1,this.spContainer.active=!0,this.gameData=h("DataNode").getComponent(g),this.drawer=this.graphics.getComponent(D)},o.onEnable=function(){this.lblTips.node.on(d.TOUCH_START,this.onMemStartClick,this)},o.onDisable=function(){this.node.off(d.TOUCH_START,this.onMemStartClick,this)},o.onMemStartClick=function(){var t=this;this.lblTips.node.active=!1,this.startCountdown(this.lblTipsCD,this.TipsCD,200,(function(){t.memCounter()}))},o.start=function(){var t=this.lblTips.getComponent(b);m(t).to(1.2,{opacity:85}).to(1,{opacity:255}).union().repeatForever().start()},o.update=function(t){},o.memCounter=function(){var t=this;if(this.mainPicIndex>=C){this.lblProgress.node.active=!1,this.lblCD.node.active=!1,this.spPicMain.node.active=!1,this.lblTipsMem.node.active=!1,this.spContainer.active=!1,this.drawer.clearAll();var e=this.gameData.getData(T);return this.gameData.setData(T,e+1),this.lblOverTips.node.active=!0,void(this.btnBack.node.active=!0)}this.lblProgress.node.active=!0,this.lblCD.node.active=!0,this.lblTipsMem.node.active=!0,this.showPics(this.mainPicIndex),this.mainPicIndex++,this.showProgress(this.mainPicIndex,C),this.startCountdown(this.lblCD,this.CD,200,(function(){t.memCounter()}))},o.showProgress=function(t,e){this.lblProgress.string=t+"/"+e},o.showPics=function(t){this.drawer.clearAll(),this.spPicMain.node.active=!0;var e=this.gameData.getSpriteFrameByIdx(t);this.spPicMain.spriteFrame=e;var i=this.gameData.getNextToPics(t);this.showNextPics(i,.8)},o.showNextPics=function(t,e){var i;null==(i=this.spContainer)||i.removeAllChildren();for(var n=0,a=[],o=0;o<t.length;o++){var r=this.gameData.getSpriteFrameByIdx(t[o]).rect.width*e;a.push(r),n+=r+(o<t.length-1?this.pad:0)}for(var l=-n/2,c=0;c<t.length;c++){var p=t[c],h=new u("Sprite"+c),d=h.addComponent(s),b=this.gameData.getSpriteFrameByIdx(p);d.spriteFrame=b,h.setScale(new w(e,e,1)),h.setPosition(new w(l+a[c]/2,0,0)),this.spContainer.addChild(h),l+=a[c]+this.pad,this.drawer.drawLine(this.spPicMain.node,h,new w(0,-1,0),new w(0,1,0),new v(105,105,105,180))}},o.startCountdown=function(t,e,i,n){var a=this;void 0===i&&(i=0),this.stopCountdown(),this.countdownValue=e;var o=t.node.active;t.node.active=!0,this.setLabel(t,this.countdownValue.toString()),setTimeout((function(){a.countdownTimer=setInterval((function(){if(a.countdownValue--,a.countdownValue<=0)return a.stopCountdown(),t.node.active=o,void(n&&n());a.setLabel(t,a.countdownValue.toString()),a.countdownValue<=3&&a.countdownValue>0&&a.startScaleAnimation(t)}),1e3)}),i)},o.stopCountdown=function(){this.countdownTimer&&(clearInterval(this.countdownTimer),this.countdownTimer=null),this.stopScaleAnimation()},o.setLabel=function(t,e){t.string=e},o.startScaleAnimation=function(t){this.stopScaleAnimation(),this.animationTween=m(t.node).to(.5,{scale:new w(1.5,1.5,1)}).to(.5,{scale:new w(1,1,1)}).union().repeatForever().start()},o.stopScaleAnimation=function(){this.animationTween&&(this.animationTween.stop(),this.animationTween=null)},e}(f)).prototype,"lblTips",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(L.prototype,"lblTipsCD",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(L.prototype,"lblCD",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(L.prototype,"lblProgress",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(L.prototype,"spPicMain",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(L.prototype,"lblOverTips",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(L.prototype,"btnBack",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(L.prototype,"lblTipsMem",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(L.prototype,"TipsCD",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),j=e(L.prototype,"CD",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),q=e(L.prototype,"spContainer",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(L.prototype,"pad",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),J=e(L.prototype,"graphics",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=L))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/SceneScriptStart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./DialogPopUp.ts","./TipsPopUp.ts","./TestInputPopUp.ts"],(function(e){var t,a,o,n,i,l,p,r,s,m,c,u,g,h,b,d,D,v,T,y,f,S,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,p=e.Label,r=e.Button,s=e.Node,m=e.find,c=e.director,u=e.UITransform,g=e.EditBox,h=e.Vec3,b=e.Component},function(e){d=e.GameData,D=e.KeySeed,v=e.KeyMemTimes,T=e.KeyExamTimes,y=e.KeyExamResultHighest},function(e){f=e.DialogPopUp},function(e){S=e.TipsPopUp},function(e){C=e.TestInputPopUp}],execute:function(){var N,E,P,x,U,w,M,I,z,G,L,_,R,k,B,A,H,K,F,Y,j;i._RF.push({},"71d57HmPMFABLb82Ug8lQ7b","SceneScriptStart",void 0);var Q=l.ccclass,V=l.property;e("SceneScriptStart",(N=Q("SceneScriptStart"),E=V(p),P=V(p),x=V(p),U=V(p),w=V(p),M=V(r),I=V(s),z=V(s),G=V(s),N((R=t((_=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,o(t,"lblMemNum",R,n(t)),o(t,"lblExamNum",k,n(t)),o(t,"lblScoreName",B,n(t)),o(t,"lblScoreNum",A,n(t)),o(t,"lblSeed",H,n(t)),o(t,"btnCopy",K,n(t)),o(t,"nodeDialog",F,n(t)),o(t,"nodePopUpTextInput",Y,n(t)),o(t,"nodePopUpTips",j,n(t)),t.gameData=void 0,t}a(t,e);var i=t.prototype;return i.onLoad=function(){var e=m("DataNode");c.addPersistRootNode(e),this.gameData=e.getComponent(d)},i.onEnable=function(){var e=this;this.gameData.eventTarget.on(this.gameData.GameEventType.EventTypeSetData,this.showData,this),this.gameData.eventTarget.on(this.gameData.GameEventType.EventTypeNoMemYet,(function(){e.nodePopUpTips.getComponent(S).showPopUpTips(null,"你还没有记忆过")}),this),this.gameData.eventTarget.on(this.gameData.GameEventType.EventTypeCopyDone,(function(t){e.gameData.copyResultToClipBoard();var a=e.btnCopy.node.position.clone(),o=e.btnCopy.getComponent(u).contentSize;a.x+=o.width/2,a.y+=o.height,a.y+=5,a=e.btnCopy.node.getParent().getComponent(u).convertToWorldSpaceAR(a),e.nodePopUpTips.getComponent(S).showPopUpTips(a,t)}),this),this.gameData.eventTarget.on(this.gameData.GameEventType.EventTypeTouchHoldDone,(function(t){e.holdTouchDoneCallback(t)}),this)},i.onDisable=function(){this.gameData.eventTarget.off(this.gameData.GameEventType.EventTypeSetData),this.gameData.eventTarget.off(this.gameData.GameEventType.EventTypeNoMemYet),this.gameData.eventTarget.off(this.gameData.GameEventType.EventTypeCopyDone)},i.start=function(){this.showData()},i.holdTouchDoneCallback=function(e){var t=this;switch(e){case"msg_reset":this.nodeDialog.getComponent(f).popDialog("确定要重置数据吗？",(function(){t.gameData.resetData(),t.gameData.saveData()}));break;case"msg_seed":this.nodePopUpTextInput.getComponent(C).popTextInput((function(e){""!=e&&(t.gameData.setData(D,e),t.gameData.saveData())}));break;case"msg_decompose":var a=this.nodePopUpTextInput.getComponentInChildren(g),o=a.inputMode,n=a.maxLength,i=a.placeholder,l=a.string;a.inputMode=g.InputMode.ANY,a.maxLength=-1,a.placeholder="请输入密文...",this.nodePopUpTextInput.getComponent(C).popTextInput((function(e){if(""!=e){var p=new h(640,360,0),r=t.gameData.deCopyCode(e);t.nodePopUpTips.getComponent(S).showPopUpTips(p,r,7),cc.log(r)}a.inputMode=o,a.maxLength=n,a.placeholder=i,a.string=l}),(function(){a.inputMode=o,a.maxLength=n,a.placeholder=i,a.string=l}))}},i.showData=function(){var e=this.gameData.getData(v),t=this.gameData.getData(T),a=this.gameData.getData(y);this.lblSeed.getComponent(p).string="s"+this.gameData.getData(D),this.lblMemNum&&(e>0?(this.lblMemNum.node.active=!0,this.lblMemNum.getComponent(p).string=e):this.lblMemNum.node.active=!1),this.lblExamNum&&(t>0?(this.lblExamNum.node.active=!0,this.lblExamNum.getComponent(p).string=t):this.lblExamNum.node.active=!1),this.lblScoreNum&&this.lblScoreName&&(null!==a?(this.lblScoreNum.node.active=!0,this.lblScoreName.node.active=!0,this.btnCopy.node.active=!0,this.lblScoreNum.getComponent(p).string=a):(this.lblScoreNum.node.active=!1,this.lblScoreName.node.active=!1,this.btnCopy.node.active=!1))},t}(b)).prototype,"lblMemNum",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(_.prototype,"lblExamNum",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(_.prototype,"lblScoreName",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(_.prototype,"lblScoreNum",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(_.prototype,"lblSeed",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(_.prototype,"btnCopy",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(_.prototype,"nodeDialog",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(_.prototype,"nodePopUpTextInput",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(_.prototype,"nodePopUpTips",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=_))||L));i._RF.pop()}}}));

System.register("chunks:///_virtual/TestInputPopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,i,l,o,a,c,r,s;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,l=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,c=n.Button,r=n.EditBox,s=n.Component}],execute:function(){var u,p,h,b,C,f,k,d,v;o._RF.push({},"70a18dU4/5KtY9qUbrwvNYg","TestInputPopUp",void 0);var g=a.ccclass,y=a.property;n("TestInputPopUp",(u=g("TestInputPopUp"),p=y(c),h=y(c),b=y(r),u((k=t((f=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o))||this,i(t,"btnOk",k,l(t)),i(t,"btnCancel",d,l(t)),i(t,"editBox",v,l(t)),t.okCallback=null,t.cancelCallback=null,t}e(t,n);var o=t.prototype;return o.onEnable=function(){var n,t;null==(n=this.btnOk)||n.node.on(c.EventType.CLICK,this.onClickOk,this),null==(t=this.btnCancel)||t.node.on(c.EventType.CLICK,this.onClickCancel,this)},o.onDisable=function(){var n,t;null==(n=this.btnOk)||n.node.off(c.EventType.CLICK),null==(t=this.btnCancel)||t.node.off(c.EventType.CLICK)},o.start=function(){},o.update=function(n){},o.popTextInput=function(n,t){this.okCallback=n||null,this.cancelCallback=t||null,this.node.active=!0,this.node.setSiblingIndex(this.node.parent.children.length-1)},o.onClickOk=function(){var n=this.editBox.getComponent(r).string;this.okCallback&&this.okCallback(n),this.closeDialog()},o.onClickCancel=function(){var n=this.editBox.getComponent(r).string;this.cancelCallback&&this.cancelCallback(n),this.closeDialog()},o.closeDialog=function(){this.node.active=!1},t}(s)).prototype,"btnOk",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(f.prototype,"btnCancel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(f.prototype,"editBox",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=f))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/TipsPopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,n,o,a,s,r,c,p,l,u,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Label,c=t.UITransform,p=t.Vec3,l=t.UIOpacity,u=t.tween,h=t.Component}],execute:function(){var v,d,f,g;a._RF.push({},"9321d01ChpNb5cKMvjpX9Q8","TipsPopUp",void 0);var y=s.ccclass,P=s.property;t("TipsPopUp",y("TipsPopUp")((f=i((d=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return i=t.call.apply(t,[this].concat(a))||this,n(i,"activeDuration",f,o(i)),n(i,"stayDuration",g,o(i)),i.fadeTween=null,i.moveTween=null,i.initialPosition=null,i.targetPosition=null,i}e(i,t);var a=i.prototype;return a.onLoad=function(){this.initialPosition=this.node.position.clone()},a.showPopUpTips=function(t,i,e){var n=this;void 0===e&&(e=this.stayDuration),this.node.active=!0,i&&(this.getComponentInChildren(r).string=i),this.targetPosition=this.initialPosition,t&&(this.targetPosition=this.node.getParent().getComponent(c).convertToNodeSpaceAR(t)),this.fadeTween&&this.fadeTween.stop(),this.moveTween&&this.moveTween.stop(),this.targetPosition&&this.node.setPosition(this.targetPosition.clone().subtract(new p(0,30,0)));var o=this.getComponent(l);o.opacity=0,this.moveTween=u(this.node).to(this.activeDuration,{position:this.targetPosition},{easing:"sineOut"}).delay(e||this.stayDuration).call((function(){n.fadeTween=u(o).to(n.activeDuration,{opacity:0},{easing:"sineIn"}).call((function(){n.node.active=!1})).start()})).start(),this.fadeTween=u(o).to(this.activeDuration,{opacity:255},{easing:"sineIn"}).start()},i}(h)).prototype,"activeDuration",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),g=i(d.prototype,"stayDuration",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),v=d))||v);a._RF.pop()}}}));

System.register("chunks:///_virtual/TouchHoldEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts"],(function(t){var o,i,n,e,a,s,h,u,r,d,c;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,h=t.find,u=t.director,r=t.NodeEventType,d=t.Component},function(t){c=t.GameData}],execute:function(){var l,T,p,f,m,E;a._RF.push({},"9cd8dI4WEtA8IAoqlKiKKkb","TouchHoldEvent",void 0);var H=s.ccclass,v=s.property;t("TouchHoldEvent",(l=H("TouchHoldEvent"),T=v(String),l((m=o((f=function(t){function o(){for(var o,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(o=t.call.apply(t,[this].concat(a))||this).gameData=void 0,o.holdTime=0,o.isHolding=!1,n(o,"holdDuration",m,e(o)),n(o,"customEventData",E,e(o)),o}i(o,t);var a=o.prototype;return a.onLoad=function(){var t=h("DataNode");u.addPersistRootNode(t),this.gameData=t.getComponent(c)},a.onEnable=function(){this.node.on(r.TOUCH_START,this.onTouchStart,this),this.node.on(r.TOUCH_END,this.onTouchEnd,this),this.node.on(r.TOUCH_CANCEL,this.onTouchEnd,this)},a.onDisable=function(){this.node.off(r.TOUCH_START,this.onTouchStart,this),this.node.off(r.TOUCH_END,this.onTouchEnd,this),this.node.off(r.TOUCH_CANCEL,this.onTouchEnd,this)},a.start=function(){},a.update=function(t){},a.onTouchStart=function(){this.isHolding=!0,this.holdTime=0,this.schedule(this.updateHoldTime,1)},a.onTouchEnd=function(){this.isHolding=!1,this.unschedule(this.updateHoldTime)},a.updateHoldTime=function(){this.isHolding&&(this.holdTime+=1,this.holdTime>=this.holdDuration&&(this.holdTime=0,this.isHolding=!1,this.unschedule(this.updateHoldTime),this.gameData.eventTarget.emit(this.gameData.GameEventType.EventTypeTouchHoldDone,this.customEventData)))},o}(d)).prototype,"holdDuration",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),E=o(f.prototype,"customEventData",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"null"}}),p=f))||p));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});